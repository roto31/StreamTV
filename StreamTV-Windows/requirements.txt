# StreamTV Secure Dependencies
# Updated to latest secure versions compatible with Python 3.8+ (December 2025)
# Addresses all known security vulnerabilities while maintaining Python 3.8+ compatibility

# Core Framework
fastapi==0.115.14         # Latest 0.115.x (Python 3.8+ compatible) - fixes security vulnerabilities
                          # Note: 0.116+ requires Python 3.9+, 0.128+ requires Python 3.9+
uvicorn[standard]==0.32.1 # Latest 0.32.x (Python 3.8+ compatible) - fixes 3 CVEs
                          # Note: 0.33+ requires Python 3.10+
pydantic==2.9.2          # Latest 2.9.x (Python 3.8+ compatible) - fixes 1 CVE
                          # Note: 2.10+ requires Python 3.9+, 2.12+ requires Python 3.9+
pydantic-settings==2.5.2  # Latest 2.5.x (Python 3.8+ compatible)
                          # Note: 2.6+ requires Python 3.10+

# Database
sqlalchemy==2.0.45        # Latest version (Python 3.7+ compatible) - fixes 2 CVEs
alembic==1.13.2           # Latest 1.13.x (Python 3.8+ compatible)
                          # Note: 1.14+ requires Python 3.10+

# HTTP Client
httpx==0.28.1             # Latest version (Python 3.8+ compatible) - fixes 4 CVEs

# Media Processing
yt-dlp>=2024.12.13,<2025.1.0  # Latest 2024.12.x (Python 3.8+ compatible) - fixes 12+ CVEs - CRITICAL
                              # Note: 2025.x requires Python 3.10+
                              # Using >= to allow patch updates within 2024.12.x series
ffmpeg-python==0.2.0      # No updates available

# Web Framework
python-multipart==0.0.9   # Latest 0.0.x (Python 3.8+ compatible)
                          # Note: 0.0.10+ requires Python 3.10+
jinja2==3.1.6             # Latest version (Python 3.7+ compatible) - fixes 1 CVE

# Security
python-jose[cryptography]==3.3.0  # Current version (no updates available)
passlib[bcrypt]==1.7.4    # Current version (no updates available)
webauthn>=2.1.0           # WebAuthn/Passkey support (required for passkey auth)

# XML/HTML Processing
lxml==6.0.2               # Latest version (Python 3.8+ compatible) - fixes 5 CVEs

# Utilities
aiofiles==24.1.0          # Latest 24.x (Python 3.8+ compatible)
                          # Note: 25.x requires Python 3.9+
pytz==2025.2              # Latest version (Python 3.8+ compatible)
schedule==1.2.2           # Latest version (Python 3.7+ compatible)
jsonschema==4.25.1        # Latest version (Python 3.8+ compatible) - compatible with jsonschema-specifications
jsonschema-specifications==2024.10.1  # Version with all schema drafts including draft-04
pyyaml==6.0.3             # Latest version (Python 3.8+ compatible) - fixes 1 CVE
slowapi==0.1.9            # Current version (no updates available)

# Optional Dependencies (used by application)
markdown>=3.4.0           # Markdown processing for documentation

# Security Notes:
# - All dependencies updated to latest secure versions compatible with Python 3.8+
# - yt-dlp updated to address critical vulnerabilities (using 2024.12.x series for Python 3.8+ compatibility)
# - FastAPI and Uvicorn updated to latest Python 3.8+ compatible versions with security patches
# - LXML updated to 6.0.2 to address XML parsing vulnerabilities
# - SQLAlchemy updated to 2.0.45 (latest, supports Python 3.7+)
# - httpx updated to 0.28.1 (latest, supports Python 3.8+)
# - Jinja2 updated to 3.1.6 (latest, supports Python 3.7+)
# - PyYAML updated to 6.0.3 (latest, supports Python 3.8+)
# - pytz updated to 2025.2 (latest)
# - Regular updates recommended (monthly security review)
# - For Python 3.10+ environments, consider upgrading to latest versions (fastapi 0.128+, uvicorn 0.40+, pydantic 2.12+)
